% to change the appearance of the header, questions, problems or subproblems, see the homework.cls file or
% override the \Problem, \Subproblem, \question or \printtitle commands.

% The hidequestions option hides the questions. Remove it to print the questions in the text.

% CHANGER CE PATH S'IL EST DIFFERENT POUR VOUS
\documentclass[]{../templates/homework}
\usepackage[french]{babel}

% Pour les fonctions floor
\providecommand{\floor}[1]{\left \lfloor #1 \right \rfloor }

% Pour le thème des scripts
\usepackage[scaled]{inconsolata}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{tcolorbox}
\definecolor{vscode-bg}{HTML}{1E1E1E} 
\definecolor{vscode-keyword}{HTML}{569CD6}
\definecolor{vscode-comment}{HTML}{6A9955}
\definecolor{vscode-string}{HTML}{CE9178}
\definecolor{vscode-function}{HTML}{DCDCAA}
\lstset{
    language=Python,
    backgroundcolor=\color{vscode-bg},
    basicstyle=\ttfamily\color{white}\selectfont,
    keywordstyle=\color{vscode-keyword}\bfseries,
    commentstyle=\color{vscode-comment}\itshape,
    stringstyle=\color{vscode-string},
    identifierstyle=\color{vscode-function},
    showstringspaces=false,
    numbers=left,
    numberstyle=\ttfamily\tiny\color{gray},
    frame=none,
    breaklines=true,
    tabsize=4,
    columns=fullflexible,
    keepspaces=false,
	numbersep=10pt,
}
\newtcolorbox{vscodebox}{
    sharp corners=southwest,
    colback=vscode-bg!5!vscode-bg,
    colframe=vscode-bg,
    boxrule=2mm,
    rounded corners=southwest,
    left=17pt,
    right=17pt
}



\homeworksetup{
	username={Thomas Diot, Jim Garnier, Jules Charlier, Pierre Gallois \\ 1E1},
	course={Mathématiques},
	setnumber=3
}

	
\begin{document}

\problem*{1}{Partie entière}

\subproblem

ha ha ha test
$\lfloor\frac{5}{2}\rfloor = 2$

$\lfloor-\pi\rfloor = -4$

$\lfloor\frac{2\pi}{7}\rfloor = 0$

\hfill

Version originale :
\begin{vscodebox}
\begin{lstlisting}
def partent(x):
	n = 0
	# Quand x est negatif, cette condition est fausse des le depart
	while n+1 <= x:
		n += 1
	return n

from math import pi
print(partent(5/2)) # 2
print(partent(-pi)) # 0 FAUX
print(partent(2*pi/7)) # 0
\end{lstlisting}
\end{vscodebox}

\hfill

Version corrigée :

\begin{vscodebox}
\begin{lstlisting}
def partent(x):
	n = 0
	while n+1 <= abs(x):
		n += 1
	if x >= 0:
		return n
	else:
		return -n-1

from math import pi
print(partent(5/2)) # 2
print(partent(-pi)) # -4
print(partent(2*pi/7)) # 0
\end{lstlisting}
\end{vscodebox}

\hfill

Versions optimisées :

\begin{vscodebox}
\begin{lstlisting}
def partent1(x):
	n = 0
	abs_x = abs(x)
	while (n := n+1) <= abs_x: pass
	return n-1 if x >= 0 else -n

def partent2(x):
	return int(x) - (1 if x <= 0 else 0)
\end{lstlisting}
\end{vscodebox}

\problem*{2}{Notion de densité}
\subproblem
\question
\begin{thm}[Grenouille généralisée]
	Soient $x,y\in\mathbb R$, $x<y$. Soit $l = |x-y|$ et $0 < \delta < l$. Alors il existe $n\in \Z$ tel que $n\delta \in\ ]x;y[$.
\end{thm}
\begin{proof}
	On procède par l'absurde en supposant que $n\delta \not\in\ ]x;y[$ pour tout $n\in\Z$.
	
	Soit $p\in\Z$ le plus petit entier tel que $p\delta > y$. Son existence est assurée par l'existence de parties entières, en prenant $p = \floor {\frac y \delta} + 1$, ou par la propriété archimédienne de $\R$.
	Par hypothèse, $(p-1) \delta \not \in\ ]x;y[$. Par minimalité de $p$, $(p-1)\delta \leq y$. Donc $(p-1)\delta < x$.
	
	Ainsi, on trouve que $(p-1)\delta < x < y < p\delta$. Donc $]x;y[\ \subseteq \  ](p-1)\delta; p\delta[$, et $|p\delta - (p-1)\delta| = \delta \geq |x-y| = l$, ce qui est une contradiction.
	
	Donc il existe $n\in\Z$ tel que $n\delta \in \ ]x;y[$.
\end{proof}

\question Si $0 \leq x <y$, alors $n\delta > x$ est équivalent à ce que $n> \frac x \delta$. En particulier, si $n$ est le plus petit tel entier, alors $n\delta \in \ ]x;y[$. En effet, si $n\delta \geq y$, alors $m\geq n$ implique que $m\delta \geq y$ et $m < n$ implique par hypothèse que $m\delta \leq x$, et $m\delta \not\in\ ]x;y[$ pour tout $m\in\Z$, ce qui contredit le théorème de la Grenouille.

Donc $n = \floor {\frac x \delta} + 1$ est le plus petit entier tel que $n\delta > x$, et $n\delta \in\ ]x;y[$. Donc la grenouille tombe dans la mare après $\floor {\frac x \delta} + 1$ sauts.

\subproblem
\question $\frac 1 n < y-x$ si et seulement si $\frac 1 {y-x} < n$. Donc $n=\floor {\frac 1 {y-x}} + 1$ fonctionne.

\question Soient $x,y \in \R$, $x<y$. Prouvons qu'il existe $a\in\Q$, $a\in\ ]x;y[$.
Par la question précédente, il existe $q\in \N^*$ tel que $\frac 1 q < y-x$. Par le théorème de la Grenouille, il existe $p \in \Z$ tel que $p \frac 1 q = \frac p q \in \ ]x;y[$. Comme $\frac p q \in \Q$, $\Q$ est dense dans $\R$.

\question Soient $x,y \in \R$, $x<y$. Par densité de $\Q$ dans $\R$, il existe $\frac p q \in\ ]\frac x {\sqrt 2}; \frac y {\sqrt 2}[$. On peut choisir $\frac p q \neq 0$, soit si $0\not \in\ ]x;y[$, soit en prenant $\frac p q$ dans $]0;\frac y {\sqrt 2}[\ \subseteq\ ]\frac x {\sqrt 2}; \frac y {\sqrt 2}[$. Dans ces deux cas, $\frac p q \sqrt 2 \in\ ]x;y[$.

Montrons maintenant par l'absurde que $\frac p q \sqrt 2$ est irrationel. Supposons que $\frac p q \sqrt 2 = \frac a b$, avec $\frac a b \in \Q$. Alors $\sqrt 2 = \frac {aq} {bp} \in \Q$, ce qui est impossible car $\sqrt \not \in \Q$.

Donc $\R \setminus \Q$ est dense dans $\R$.
\end{document}